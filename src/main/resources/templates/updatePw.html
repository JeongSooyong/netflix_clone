<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>비밀번호 재설정</title> <!-- 제목을 '비밀번호 재설정'으로 변경 -->
    <link rel="stylesheet" href="/css/find.css" /> <!-- find.css 재사용 -->
</head>
<body>
    <div class="background"></div>
    <div class="container">
        <h1>비밀번호 재설정</h1> <!-- 제목 변경 -->
        
        <!-- form action은 비밀번호를 업데이트할 컨트롤러 URL로 변경 -->
        <form action="/updatePw2" method="post" class="find-form">
            <!-- CSRF 토큰 (Spring Security 사용 시 필수) -->
            <input type="hidden" th:if="${_csrf}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

            <label for="userId">아이디</label>
            <input type="text" id="userId" name="userId" placeholder="사용자 아이디" required />

            <label for="userEmail">가입 시 등록한 이메일</label>
            <input type="email" id="userEmail" name="userEmail" placeholder="등록된 이메일" required />
            
            <label for="newPassword">새 비밀번호</label>
            <input type="password" id="newPassword" name="newPassword" placeholder="새 비밀번호 입력" required />
            
            <label for="confirmPassword">새 비밀번호 확인</label>
            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="새 비밀번호 다시 입력" required />
            
            <button type="submit">비밀번호 변경</button> <!-- 버튼 텍스트 변경 -->
        </form>
    </div>

    <!-- 에러/성공 메시지 표시 (필요 시 JavaScript) -->
    <script th:inline="javascript">
        var errorMessage = [[${errorMsg}]]; // 컨트롤러에서 에러 메시지 받기
        var successMessage = [[${successMsg}]]; // 컨트롤러에서 성공 메시지 받기

        if (errorMessage != null && errorMessage !== '') {
            alert(errorMessage);
        }
        if (successMessage != null && successMessage !== '') {
            alert(successMessage);
        }
    </script>
</body>
</html>